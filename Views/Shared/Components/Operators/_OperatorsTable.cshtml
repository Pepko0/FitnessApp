@using FitnessApp.Models
@using FitnessApp.Models.ViewModels
@model IEnumerable<Operator>

@await Html.PartialAsync("_Table", new TableViewModel
{
    Items = Model.Cast<object>(),
    Columns =
    {
        new TableColumn { Header = "Imię", ValueSelector = x => ((Operator)x).FirstName },
        new TableColumn { Header = "Nazwisko", ValueSelector = x => ((Operator)x).LastName },
        new TableColumn { Header = "Email", ValueSelector = x => ((Operator)x).Email },
        new TableColumn { Header = "Rola", ValueSelector = x => ((Operator)x).Role?.Name },
        new TableColumn { Header = "Utworzono", ValueSelector = x => ((Operator)x).CreatedAt.ToString("yyyy-MM-dd") },
    },
    Actions = new()
    {
        new TableAction {
            LabelSelector = x => "Edytuj",
            UrlSelector = x => $"/zarzadzanie/operatorzy/edytuj/{((Operator)x).Id}",
            CssClass = "btn btn-sm btn-primary",
            Icon = "bi-pencil"
        },
        new TableAction {
            LabelSelector = x => "Usuń",
            CssClass = "btn btn-sm btn-danger ms-1",
            Icon = "bi-trash",
            IsModal = true,
            ModalId = "deleteOperatorModal",
            NameSelector = x => ((Operator)x).FirstName + " " + ((Operator)x).LastName
        }
    }
})

